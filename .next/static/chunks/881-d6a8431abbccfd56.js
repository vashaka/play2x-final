(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[881],{1414:function(e,t,i){"use strict";i.d(t,{r:function(){return r}});let r={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"gray",messageTextDanger:"red",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray"}}}},3213:function(e,t,i){"use strict";i.d(t,{Z:function(){return e3}});var r={};i.r(r),i.d(r,{apple:function(){return eP},azure:function(){return eB},bitbucket:function(){return eA},discord:function(){return eI},facebook:function(){return eT},github:function(){return e$},gitlab:function(){return eR},google:function(){return eC},keycloak:function(){return eL},linkedin:function(){return eN},notion:function(){return eM},slack:function(){return eD},spotify:function(){return ez},twitch:function(){return eU},twitter:function(){return eE},workos:function(){return eF}});var n={};i.r(n),i.d(n,{de_formal:function(){return eZ},de_informal:function(){return eX},en:function(){return eQ},ja:function(){return e0}});var s,o=i(5893),a="colors",l="sizes",c="space",d={gap:c,gridGap:c,columnGap:c,gridColumnGap:c,rowGap:c,gridRowGap:c,inset:c,insetBlock:c,insetBlockEnd:c,insetBlockStart:c,insetInline:c,insetInlineEnd:c,insetInlineStart:c,margin:c,marginTop:c,marginRight:c,marginBottom:c,marginLeft:c,marginBlock:c,marginBlockEnd:c,marginBlockStart:c,marginInline:c,marginInlineEnd:c,marginInlineStart:c,padding:c,paddingTop:c,paddingRight:c,paddingBottom:c,paddingLeft:c,paddingBlock:c,paddingBlockEnd:c,paddingBlockStart:c,paddingInline:c,paddingInlineEnd:c,paddingInlineStart:c,top:c,right:c,bottom:c,left:c,scrollMargin:c,scrollMarginTop:c,scrollMarginRight:c,scrollMarginBottom:c,scrollMarginLeft:c,scrollMarginX:c,scrollMarginY:c,scrollMarginBlock:c,scrollMarginBlockEnd:c,scrollMarginBlockStart:c,scrollMarginInline:c,scrollMarginInlineEnd:c,scrollMarginInlineStart:c,scrollPadding:c,scrollPaddingTop:c,scrollPaddingRight:c,scrollPaddingBottom:c,scrollPaddingLeft:c,scrollPaddingX:c,scrollPaddingY:c,scrollPaddingBlock:c,scrollPaddingBlockEnd:c,scrollPaddingBlockStart:c,scrollPaddingInline:c,scrollPaddingInlineEnd:c,scrollPaddingInlineStart:c,fontSize:"fontSizes",background:a,backgroundColor:a,backgroundImage:a,borderImage:a,border:a,borderBlock:a,borderBlockEnd:a,borderBlockStart:a,borderBottom:a,borderBottomColor:a,borderColor:a,borderInline:a,borderInlineEnd:a,borderInlineStart:a,borderLeft:a,borderLeftColor:a,borderRight:a,borderRightColor:a,borderTop:a,borderTopColor:a,caretColor:a,color:a,columnRuleColor:a,fill:a,outline:a,outlineColor:a,stroke:a,textDecorationColor:a,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:l,minBlockSize:l,maxBlockSize:l,inlineSize:l,minInlineSize:l,maxInlineSize:l,width:l,minWidth:l,maxWidth:l,height:l,minHeight:l,maxHeight:l,flexBasis:l,gridTemplateColumns:l,gridTemplateRows:l,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},h=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,u=()=>{let e=Object.create(null);return(t,i,...r)=>{let n=JSON.stringify(t,h);return n in e?e[n]:e[n]=i(t,...r)}},p=Symbol.for("sxs.internal"),f=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),g=e=>{for(let t in e)return!0;return!1},{hasOwnProperty:v}=Object.prototype,m=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),b=/\s+(?![^()]*\))/,y=e=>t=>e(..."string"==typeof t?String(t).split(b):[t]),_={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:y((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:y((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:y((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:y((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:y((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:y((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},w=/([\d.]+)([^]*)/,x=(e,t)=>e.length?e.reduce((e,i)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(e)?`:is(${i})`:i):i+" "+e)),e),[]):t,j=(e,t)=>e in S&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,i,r,n)=>i+("stretch"===r?`-moz-available${n};${m(e)}:${i}-webkit-fill-available`:`-moz-fit-content${n};${m(e)}:${i}fit-content`)+n):String(t),S={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},k=e=>e?e+"-":"",O=(e,t,i)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,r,n,s,o)=>"$"==s==!!n?e:(r||"--"==s?"calc(":"")+"var(--"+("$"===s?k(t)+(o.includes("$")?"":k(i))+o.replace(/\$/g,"-"):o)+")"+(r||"--"==s?"*"+(r||"")+(n||"1")+")":"")),C=/\s*,\s*(?![^()]*\))/,T=Object.prototype.toString,E=(e,t,i,r,n)=>{let s,o,a;let l=(e,t,i)=>{let c,d;let h=e=>{var u;for(c in e){let p=64===c.charCodeAt(0),f=p&&Array.isArray(e[c])?e[c]:[e[c]];for(d of f){let e=/[A-Z]/.test(u=c)?u:u.replace(/-[^]/g,e=>e[1].toUpperCase()),f="object"==typeof d&&d&&d.toString===T&&(!r.utils[e]||!t.length);if(e in r.utils&&!f){let t=r.utils[e];if(t!==o){o=t,h(t(d)),o=null;continue}}else if(e in _){let t=_[e];if(t!==a){a=t,h(t(d)),a=null;continue}}if(p&&(c=(c.slice(1) in r.media?"@media "+r.media[c.slice(1)]:c).replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,i,r,n,s)=>{let o=w.test(t),a=.0625*(o?-1:1),[l,c]=o?[r,t]:[t,r];return"("+("="===i[0]?"":">"===i[0]===o?"max-":"min-")+l+":"+("="!==i[0]&&1===i.length?c.replace(w,(e,t,r)=>Number(t)+a*(">"===i?1:-1)+r):c)+(n?") and ("+(">"===n[0]?"min-":"max-")+l+":"+(1===n.length?s.replace(w,(e,t,i)=>Number(t)+a*(">"===n?-1:1)+i):s):"")+")"})),f){let e=p?i.concat(c):[...i],r=p?[...t]:x(t,c.split(C));void 0!==s&&n(P(...s)),s=void 0,l(d,r,e)}else void 0===s&&(s=[[],t,i]),c=p||36!==c.charCodeAt(0)?c:`--${k(r.prefix)}${c.slice(1).replace(/\$/g,"-")}`,d=f?d:"number"==typeof d?d&&e in $?String(d)+"px":String(d):O(j(e,null==d?"":d),r.prefix,r.themeMap[e]),s[0].push(`${p?`${c} `:`${m(c)}:`}${d}`)}}};h(e),void 0!==s&&n(P(...s)),s=void 0};l(e,t,i)},P=(e,t,i)=>`${i.map(e=>`${e}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(i.length?i.length+1:0).join("}")}`,$={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R=e=>String.fromCharCode(e+(e>25?39:97)),A=e=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=R(t%52)+i;return R(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(e))>>>0),I=["themed","global","styled","onevar","resonevar","allvar","inline"],B=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},L=e=>{let t;let i=()=>{let{cssRules:e}=t.sheet;return[].map.call(e,(i,r)=>{let{cssText:n}=i,s="";if(n.startsWith("--sxs"))return"";if(e[r-1]&&(s=e[r-1].cssText).startsWith("--sxs")){if(!i.cssRules.length)return"";for(let e in t.rules)if(t.rules[e].group===i)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${n}`;return i.cssRules.length?`${s}${n}`:""}return n}).join("")},r=()=>{if(t){let{rules:e,sheet:i}=t;if(!i.deleteRule){for(;3===Object(Object(i.cssRules)[0]).type;)i.cssRules.splice(0,1);i.cssRules=[]}for(let t in e)delete e[t]}let n=Object(e).styleSheets||[];for(let e of n)if(B(e)){for(let n=0,s=e.cssRules;s[n];++n){let o=Object(s[n]);if(1!==o.type)continue;let a=Object(s[n+1]);if(4!==a.type)continue;++n;let{cssText:l}=o;if(!l.startsWith("--sxs"))continue;let c=l.slice(14,-3).trim().split(/\s+/),d=I[c[0]];d&&(t||(t={sheet:e,reset:r,rules:{},toString:i}),t.rules[d]={group:a,index:n,cache:new Set(c)})}if(t)break}if(!t){let n=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,n(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,e=>e.cssText).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:n("","text/css"),rules:{},reset:r,toString:i}}let{sheet:s,rules:o}=t;for(let e=I.length-1;e>=0;--e){let t=I[e];if(!o[t]){let i=I[e+1],r=o[i]?o[i].index:s.cssRules.length;s.insertRule("@media{}",r),s.insertRule(`--sxs{--sxs:${e}}`,r),o[t]={group:s.cssRules[r+1],index:r,cache:new Set([e])}}N(o[t])}};return r(),t},N=e=>{let t=e.group,i=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,i),++i}catch(e){}}},M=Symbol(),D=u(),z=(e,t)=>D(e,()=>(...i)=>{let r={type:null,composers:new Set};for(let t of i)if(null!=t){if(t[p])for(let e of(null==r.type&&(r.type=t[p].type),t[p].composers))r.composers.add(e);else t.constructor!==Object||t.$$typeof?null==r.type&&(r.type=t):r.composers.add(U(t,e))}return null==r.type&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),F(e,r,t)}),U=({variants:e,compoundVariants:t,defaultVariants:i,...r},n)=>{var s;let o=`${k(n.prefix)}c-${A(r)}`,a=[],l=[],c=Object.create(null),d=[];for(let e in i)c[e]=String(i[e]);if("object"==typeof e&&e)for(let t in e){s=t,v.call(c,s)||(c[t]="undefined");let i=e[t];for(let e in i){let r={[t]:String(e)};"undefined"===String(e)&&d.push(t);let n=i[e],s=[r,n,!g(n)];a.push(s)}}if("object"==typeof t&&t)for(let e of t){let{css:t,...i}=e;for(let e in t="object"==typeof t&&t||{},i)i[e]=String(i[e]);let r=[i,t,!g(t)];l.push(r)}return[o,r,a,l,c,d]},F=(e,t,i)=>{let[r,n,s,o]=H(t.composers),a="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let i=0;i<t[M].length;i++){let[r,n]=t[M][i];e.rules[r].apply(n)}return t[M]=[],null}return t[M]=[],t.rules={},I.forEach(e=>t.rules[e]={apply:i=>t[M].push([e,i])}),t})(i):null,l=(a||i).rules,c=`.${r}${n.length>1?`:where(.${n.slice(1).join(".")})`:""}`,d=d=>{d="object"==typeof d&&d||G;let{css:h,...u}=d,p={};for(let e in s)if(delete u[e],e in d){let t=d[e];"object"==typeof t&&t?p[e]={"@initial":s[e],...t}:(t=String(t),p[e]="undefined"!==t||o.has(e)?t:s[e])}else p[e]=s[e];let f=new Set([...n]);for(let[r,n,s,o]of t.composers){i.rules.styled.cache.has(r)||(i.rules.styled.cache.add(r),E(n,[`.${r}`],[],e,e=>{l.styled.apply(e)}));let t=W(s,p,e.media),a=W(o,p,e.media,!0);for(let n of t)if(void 0!==n)for(let[t,s,o]of n){let n=`${r}-${A(s)}-${t}`;f.add(n);let a=(o?i.rules.resonevar:i.rules.onevar).cache,c=o?l.resonevar:l.onevar;a.has(n)||(a.add(n),E(s,[`.${n}`],[],e,e=>{c.apply(e)}))}for(let t of a)if(void 0!==t)for(let[n,s]of t){let t=`${r}-${A(s)}-${n}`;f.add(t),i.rules.allvar.cache.has(t)||(i.rules.allvar.cache.add(t),E(s,[`.${t}`],[],e,e=>{l.allvar.apply(e)}))}}if("object"==typeof h&&h){let t=`${r}-i${A(h)}-css`;f.add(t),i.rules.inline.cache.has(t)||(i.rules.inline.cache.add(t),E(h,[`.${t}`],[],e,e=>{l.inline.apply(e)}))}for(let e of String(d.className||"").trim().split(/\s+/))e&&f.add(e);let g=u.className=[...f].join(" ");return{type:t.type,className:g,selector:c,props:u,toString:()=>g,deferredInjector:a}};return f(d,{className:r,selector:c,[p]:t,toString:()=>(i.rules.styled.cache.has(r)||d(),r)})},H=e=>{let t="",i=[],r={},n=[];for(let[s,,,,o,a]of e)for(let e in""===t&&(t=s),i.push(s),n.push(...a),o){let t=o[e];(void 0===r[e]||"undefined"!==t||a.includes(t))&&(r[e]=t)}return[t,i,r,new Set(n)]},W=(e,t,i,r)=>{let n=[];e:for(let[s,o,a]of e){if(a)continue;let e,l=0,c=!1;for(e in s){let r=s[e],n=t[e];if(n!==r){if("object"!=typeof n||!n)continue e;{let e,t,s=0;for(let o in n){if(r===String(n[o])){if("@initial"!==o){let e=o.slice(1);(t=t||[]).push(e in i?i[e]:o.replace(/^@media ?/,"")),c=!0}l+=s,e=!0}++s}if(t&&t.length&&(o={["@media "+t.join(", ")]:o}),!e)continue e}}}(n[l]=n[l]||[]).push([r?"cv":`${e}-${s[e]}`,o,c])}return n},G={},V=u(),J=(e,t)=>V(e,()=>(...i)=>{let r=()=>{for(let r of i){let i=A(r="object"==typeof r&&r||{});if(!t.rules.global.cache.has(i)){if(t.rules.global.cache.add(i),"@import"in r){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let i of[].concat(r["@import"]))i=i.includes('"')||i.includes("'")?i:`"${i}"`,t.sheet.insertRule(`@import ${i};`,e++);delete r["@import"]}E(r,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return f(r,{toString:r})}),q=u(),K=(e,t)=>q(e,()=>i=>{let r=`${k(e.prefix)}k-${A(i)}`,n=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);let n=[];E(i,[],[],e,e=>n.push(e));let s=`@keyframes ${r}{${n.join("")}}`;t.rules.global.apply(s)}return r};return f(n,{get name(){return n()},toString:n})}),Y=class{constructor(e,t,i,r){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==i?"":String(i),this.prefix=null==r?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+k(this.prefix)+k(this.scale)+this.token}toString(){return this.computedValue}},Z=u(),X=(e,t)=>Z(e,()=>(i,r)=>{r="object"==typeof i&&i||Object(r);let n=`.${i=(i="string"==typeof i?i:"")||`${k(e.prefix)}t-${A(r)}`}`,s={},o=[];for(let t in r)for(let i in s[t]={},r[t]){let n=`--${k(e.prefix)}${t}-${i}`,a=O(String(r[t][i]),e.prefix,t);s[t][i]=new Y(i,a,t,e.prefix),o.push(`${n}:${a}`)}let a=()=>{if(o.length&&!t.rules.themed.cache.has(i)){t.rules.themed.cache.add(i);let n=`${r===e.theme?":root,":""}.${i}{${o.join(";")}}`;t.rules.themed.apply(n)}return i};return{...s,get className(){return a()},selector:n,toString:a}}),Q=u(),ee=e=>{let t=!1,i=Q(e,e=>{t=!0;let i="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},n="object"==typeof e.root?e.root||null:globalThis.document||null,s="object"==typeof e.theme&&e.theme||{},o={prefix:i,media:r,theme:s,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...d},utils:"object"==typeof e.utils&&e.utils||{}},a=L(n),l={css:z(o,a),globalCss:J(o,a),keyframes:K(o,a),createTheme:X(o,a),reset(){a.reset(),l.theme.toString()},theme:{},sheet:a,config:o,prefix:i,getCssText:a.toString,toString:a.toString};return String(l.theme=l.createTheme(s)),l});return t||i.reset(),i},et=()=>s||(s=ee()),ei=(...e)=>et().createTheme(...e),er=(...e)=>et().css(...e);function en(e){let t=arguments.length<=1?0:arguments.length-1;for(let i=0;i<t;i++)e=function e(t,i){let r;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(Array.isArray(i))for(r=0;r<i.length;r++)t[r]=e(t[r],i[r]);else for(r in i)t[r]=e(t[r],i[r]);return t}return i}(e,i+1<1||arguments.length<=i+1?void 0:arguments[i+1]);return e}var es=i(7294);let eo={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password"},ea={ROOT:"root",SIGN_IN:eo.SIGN_IN,SIGN_UP:eo.SIGN_UP,FORGOTTEN_PASSWORD:eo.FORGOTTEN_PASSWORD,MAGIC_LINK:eo.MAGIC_LINK,UPDATE_PASSWORD:eo.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function el(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i}function ec(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}function ed(e,t,i){var r,n;let s=[],o=ea[e];return s.push((null==i?void 0:i.prependedClassName)?(null==i?void 0:i.prependedClassName)+"_"+o:"supabase-ui-auth_"+o),(null===(r=null==i?void 0:i.className)||void 0===r?void 0:r[e])&&s.push(null===(n=null==i?void 0:i.className)||void 0===n?void 0:n[e]),s.push(t),s}let eh=er({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),eu=e=>{var t,{children:i,appearance:r}=e,n=el(e,["children","appearance"]);let s=ed("anchor",eh(),r);return(0,o.jsx)("a",Object.assign({},n,{style:null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.anchor,className:s.join(" ")},{children:i}))},ep=er({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionPproperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),ef=e=>{var t,{children:i,color:r="default",appearance:n,icon:s,loading:a=!1}=e,l=el(e,["children","color","appearance","icon","loading"]);let c=ed("button",ep({color:r}),n);return(0,o.jsxs)("button",Object.assign({},l,{style:null===(t=null==n?void 0:n.style)||void 0===t?void 0:t.button,className:c.join(" "),disabled:a},{children:[s,i]}))},eg=er({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),ev=e=>{var t,{children:i,appearance:r}=e,n=el(e,["children","appearance"]);let s=ed("container",eg({direction:n.direction,gap:n.gap}),r);return(0,o.jsx)("div",Object.assign({},n,{style:null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.container,className:s.join(" ")},{children:i}))},em=er({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionPproperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"6px"}}}}),eb=e=>{var t,{children:i,appearance:r}=e,n=el(e,["children","appearance"]);let s=ed("input",em({type:"password"===n.type?"password":"default"}),r);return(0,o.jsx)("input",Object.assign({},n,{style:null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.input,className:s.join(" ")},{children:i}))},ey=er({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),e_=e=>{var t,{children:i,appearance:r}=e,n=el(e,["children","appearance"]);let s=ed("label",ey(),r);return(0,o.jsx)("label",Object.assign({},n,{style:null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.label,className:s.join(" ")},{children:i}))},ew=er({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",variants:{color:{default:{color:"$messageText"},danger:{color:"$messageTextDanger"}}}}),ex=e=>{var t,{children:i,appearance:r}=e,n=el(e,["children","appearance"]);let s=ed("message",ew({color:n.color}),r);return(0,o.jsx)("span",Object.assign({},n,{style:null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.message,className:s.join(" ")},{children:i}))};function ej(e){var t,i,r,n;let{setAuthView:s,supabaseClient:a,redirectTo:l,i18n:c,appearance:d,showLinks:h}=e,[u,p]=(0,es.useState)(""),[f,g]=(0,es.useState)(""),[v,m]=(0,es.useState)(""),[b,y]=(0,es.useState)(!1),_=e=>ec(this,void 0,void 0,function*(){e.preventDefault(),g(""),m(""),y(!0);let{error:t}=yield a.auth.signInWithOtp({email:u,options:{emailRedirectTo:l}});t?g(t.message):m("Check your email for the magic link"),y(!1)});return(0,o.jsx)("form",Object.assign({id:"auth-magic-link",onSubmit:_},{children:(0,o.jsxs)(ev,Object.assign({gap:"large",direction:"vertical",appearance:d},{children:[(0,o.jsxs)(ev,Object.assign({gap:"large",direction:"vertical",appearance:d},{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(e_,Object.assign({appearance:d},{children:null===(t=null==c?void 0:c.magic_link)||void 0===t?void 0:t.email_input_label})),(0,o.jsx)(eb,{name:"email",type:"email",placeholder:null===(i=null==c?void 0:c.magic_link)||void 0===i?void 0:i.email_input_placeholder,onChange:e=>p(e.target.value),appearance:d})]}),(0,o.jsx)(ef,Object.assign({color:"primary",type:"submit",loading:b,appearance:d},{children:null===(r=null==c?void 0:c.magic_link)||void 0===r?void 0:r.button_label}))]})),h&&(0,o.jsx)(eu,Object.assign({href:"#auth-sign-in",onClick:e=>{e.preventDefault(),s(eo.SIGN_IN)},appearance:d},{children:null===(n=null==c?void 0:c.sign_in)||void 0===n?void 0:n.link_text})),v&&(0,o.jsx)(ex,Object.assign({appearance:d},{children:v})),f&&(0,o.jsx)(ex,Object.assign({color:"danger",appearance:d},{children:f}))]}))}))}let eS=er({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),ek=e=>{var t,{children:i,appearance:r}=e,n=el(e,["children","appearance"]);let s=ed("divider",eS(),r);return(0,o.jsx)("div",Object.assign({},n,{style:null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.divider,className:s.join(" ")}))},eO=er({width:"21px",height:"21px"}),eC=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,o.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,o.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,o.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,o.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})),eT=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,o.jsx)("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),(0,o.jsx)("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})]})),eE=()=>(0,o.jsx)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:(0,o.jsx)("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})})),eP=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"512px",height:"512px"},{children:[" ",(0,o.jsx)("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})]})),e$=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"512px",height:"512px"},{children:[" ",(0,o.jsx)("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})]})),eR=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,o.jsx)("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),(0,o.jsx)("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),(0,o.jsx)("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),(0,o.jsx)("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),(0,o.jsx)("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),(0,o.jsx)("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),(0,o.jsx)("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})]})),eA=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},{children:[(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",Object.assign({id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},{children:[(0,o.jsx)("stop",{offset:"0.18",stopColor:"#0052cc"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#2684ff"})]}))}),(0,o.jsx)("title",{children:"Bitbucket-blue"}),(0,o.jsx)("g",Object.assign({id:"Layer_2","data-name":"Layer 2"},{children:(0,o.jsxs)("g",Object.assign({id:"Blue",transform:"translate(0 -3.13)"},{children:[(0,o.jsx)("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),(0,o.jsx)("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})]}))}))]})),eI=()=>(0,o.jsx)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:(0,o.jsx)("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})})),eB=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,o.jsxs)("linearGradient",Object.assign({id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},{children:[(0,o.jsx)("stop",{offset:"0",stopColor:"#114a8b"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#0669bc"})]})),(0,o.jsx)("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),(0,o.jsx)("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),(0,o.jsxs)("linearGradient",Object.assign({id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},{children:[(0,o.jsx)("stop",{offset:"0",stopOpacity:".3"}),(0,o.jsx)("stop",{offset:".071",stopOpacity:".2"}),(0,o.jsx)("stop",{offset:".321",stopOpacity:".1"}),(0,o.jsx)("stop",{offset:".623",stopOpacity:".05"}),(0,o.jsx)("stop",{offset:"1",stopOpacity:"0"})]})),(0,o.jsx)("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),(0,o.jsxs)("linearGradient",Object.assign({id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},{children:[(0,o.jsx)("stop",{offset:"0",stopColor:"#3ccbf4"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#2892df"})]})),(0,o.jsx)("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})]})),eL=()=>(0,o.jsx)("svg",Object.assign({className:eO(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,o.jsx)("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})})),eN=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,o.jsx)("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),(0,o.jsx)("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})]})),eM=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px",fillRule:"evenodd",clipRule:"evenodd"},{children:[(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})]})),eD=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,o.jsx)("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),(0,o.jsx)("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),(0,o.jsx)("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),(0,o.jsx)("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),(0,o.jsx)("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),(0,o.jsx)("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),(0,o.jsx)("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),(0,o.jsx)("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})]})),ez=()=>(0,o.jsx)("svg",Object.assign({className:eO(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,o.jsx)("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})})),eU=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,o.jsx)("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),(0,o.jsx)("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),(0,o.jsx)("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),(0,o.jsx)("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})]})),eF=()=>(0,o.jsxs)("svg",Object.assign({className:eO(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,o.jsx)("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),(0,o.jsx)("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})]}));function eH(e){let{supabaseClient:t,socialLayout:i="vertical",providers:n,redirectTo:s,onlyThirdPartyProviders:a,view:l,i18n:c,appearance:d}=e,[h,u]=(0,es.useState)(!1),[p,f]=(0,es.useState)(""),g="vertical"===i,v=e=>ec(this,void 0,void 0,function*(){u(!0);let{error:i}=yield t.auth.signInWithOAuth({provider:e,options:{redirectTo:s}});i&&f(i.message),u(!1)});return(0,o.jsx)(o.Fragment,{children:n&&n.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ev,Object.assign({gap:"large",direction:"vertical",appearance:d},{children:(0,o.jsx)(ev,Object.assign({direction:g?"vertical":"horizontal",gap:g?"small":"medium",appearance:d},{children:n.map(e=>{var t;let i=r[e];return(0,o.jsx)(ef,Object.assign({color:"default",icon:i?(0,o.jsx)(i,{}):"",loading:h,onClick:()=>v(e),appearance:d},{children:g&&(null===(t=c[l])||void 0===t?void 0:t.social_provider_text)+" "+function(e){let t=e.toLowerCase();return e.charAt(0).toUpperCase()+t.slice(1)}(e)}),e)})}))})),!a&&(0,o.jsx)(ek,{appearance:d})]})})}let eW={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password"};function eG(e){var t,i,r,n;let{authView:s="sign_in",defaultEmail:a,defaultPassword:l,setAuthView:c,setDefaultEmail:d,setDefaultPassword:h,supabaseClient:u,showLinks:p=!0,redirectTo:f,magicLink:g,i18n:v,appearance:m}=e,b=(0,es.useRef)(!0),[y,_]=(0,es.useState)(a),[w,x]=(0,es.useState)(l),[j,S]=(0,es.useState)(""),[k,O]=(0,es.useState)(!1),[C,T]=(0,es.useState)("");(0,es.useEffect)(()=>(b.current=!0,_(a),x(l),()=>{b.current=!1}),[s]);let E=e=>ec(this,void 0,void 0,function*(){switch(e.preventDefault(),S(""),O(!0),s){case"sign_in":let{error:t}=yield u.auth.signInWithPassword({email:y,password:w});t&&S(t.message);break;case"sign_up":let{data:{user:i,session:r},error:n}=yield u.auth.signUp({email:y,password:w});n?S(n.message):i&&!r&&T("Check your email for the confirmation link.")}b.current&&O(!1)}),P=e=>{d(y),h(w),c(e)},$=null==v?void 0:v[s];return(0,o.jsxs)("form",Object.assign({id:"sign_in"===s?"auth-sign-in":"auth-sign-up",onSubmit:E,autoComplete:"on",style:{width:"100%"}},{children:[(0,o.jsxs)(ev,Object.assign({direction:"vertical",gap:"large",appearance:m},{children:[(0,o.jsxs)(ev,Object.assign({direction:"vertical",gap:"large",appearance:m},{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(e_,Object.assign({htmlFor:"email",appearance:m},{children:null==$?void 0:$.email_label})),(0,o.jsx)(eb,{type:"email",name:"email",placeholder:null==$?void 0:$.email_input_placeholder,defaultValue:y,onChange:e=>_(e.target.value),autoComplete:"email",appearance:m})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(e_,Object.assign({htmlFor:"password",appearance:m},{children:null==$?void 0:$.password_label})),(0,o.jsx)(eb,{type:"password",name:"password",placeholder:null==$?void 0:$.password_input_placeholder,defaultValue:w,onChange:e=>x(e.target.value),autoComplete:"sign_in"===s?"current-password":"new-password",appearance:m})]})]})),(0,o.jsx)(ef,Object.assign({type:"submit",color:"primary",loading:k,appearance:m},{children:k?null==$?void 0:$.loading_button_label:null==$?void 0:$.button_label})),p&&(0,o.jsxs)(ev,Object.assign({direction:"vertical",gap:"small",appearance:m},{children:[s===eW.SIGN_IN&&g&&(0,o.jsx)(eu,Object.assign({href:"#auth-magic-link",onClick:e=>{e.preventDefault(),c(eW.MAGIC_LINK)},appearance:m},{children:null===(t=null==v?void 0:v.magic_link)||void 0===t?void 0:t.link_text})),s===eW.SIGN_IN&&(0,o.jsx)(eu,Object.assign({href:"#auth-forgot-password",onClick:e=>{e.preventDefault(),c(eW.FORGOTTEN_PASSWORD)},appearance:m},{children:null===(i=null==v?void 0:v.forgotten_password)||void 0===i?void 0:i.link_text})),s===eW.SIGN_IN?(0,o.jsx)(eu,Object.assign({href:"#auth-sign-up",onClick:e=>{e.preventDefault(),P(eW.SIGN_UP)},appearance:m},{children:null===(r=null==v?void 0:v.sign_up)||void 0===r?void 0:r.link_text})):(0,o.jsx)(eu,Object.assign({href:"#auth-sign-in",onClick:e=>{e.preventDefault(),P(eW.SIGN_IN)},appearance:m},{children:null===(n=null==v?void 0:v.sign_in)||void 0===n?void 0:n.link_text}))]}))]})),C&&(0,o.jsx)(ex,Object.assign({appearance:m},{children:C})),j&&(0,o.jsx)(ex,Object.assign({color:"danger",appearance:m},{children:j}))]}))}function eV(e){var t,i,r,n;let{setAuthView:s,supabaseClient:a,redirectTo:l,i18n:c,appearance:d,showLinks:h}=e,[u,p]=(0,es.useState)(""),[f,g]=(0,es.useState)(""),[v,m]=(0,es.useState)(""),[b,y]=(0,es.useState)(!1),_=e=>ec(this,void 0,void 0,function*(){e.preventDefault(),g(""),m(""),y(!0);let{error:t}=yield a.auth.resetPasswordForEmail(u,{redirectTo:l});t?g(t.message):m("Check your email for the password reset link"),y(!1)});return(0,o.jsx)("form",Object.assign({id:"auth-forgot-password",onSubmit:_},{children:(0,o.jsxs)(ev,Object.assign({gap:"large",direction:"vertical",appearance:d},{children:[(0,o.jsxs)(ev,Object.assign({gap:"large",direction:"vertical",appearance:d},{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(e_,Object.assign({htmlFor:"email",appearance:d},{children:null===(t=null==c?void 0:c.forgotten_password)||void 0===t?void 0:t.email_label})),(0,o.jsx)(eb,{name:"email",type:"email",placeholder:null===(i=null==c?void 0:c.forgotten_password)||void 0===i?void 0:i.email_input_placeholder,onChange:e=>p(e.target.value),appearance:d})]}),(0,o.jsx)(ef,Object.assign({type:"submit",color:"primary",loading:b,appearance:d},{children:null===(r=null==c?void 0:c.forgotten_password)||void 0===r?void 0:r.button_label}))]})),h&&(0,o.jsx)(eu,Object.assign({href:"#auth-sign-in",onClick:e=>{e.preventDefault(),s(eo.SIGN_IN)},appearance:d},{children:null===(n=null==c?void 0:c.sign_in)||void 0===n?void 0:n.link_text})),v&&(0,o.jsx)(ex,Object.assign({appearance:d},{children:v})),f&&(0,o.jsx)(ex,Object.assign({color:"danger",appearance:d},{children:f}))]}))}))}function eJ(e){var t,i,r;let{supabaseClient:n,i18n:s,appearance:a}=e,[l,c]=(0,es.useState)(""),[d,h]=(0,es.useState)(""),[u,p]=(0,es.useState)(""),[f,g]=(0,es.useState)(!1),v=e=>ec(this,void 0,void 0,function*(){e.preventDefault(),h(""),p(""),g(!0);let{error:t}=yield n.auth.updateUser({password:l});t?h(t.message):p("Your password has been updated"),g(!1)});return(0,o.jsx)("form",Object.assign({id:"auth-update-password",onSubmit:v},{children:(0,o.jsxs)(ev,Object.assign({gap:"large",direction:"vertical",appearance:a},{children:[(0,o.jsxs)(ev,Object.assign({gap:"large",direction:"vertical",appearance:a},{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(e_,Object.assign({htmlFor:"password",appearance:a},{children:null===(t=null==s?void 0:s.update_password)||void 0===t?void 0:t.password_label})),(0,o.jsx)(eb,{name:"password",placeholder:null===(i=null==s?void 0:s.update_password)||void 0===i?void 0:i.password_label,type:"password",onChange:e=>c(e.target.value),appearance:a})]}),(0,o.jsx)(ef,Object.assign({type:"submit",color:"primary",loading:f,appearance:a},{children:null===(r=null==s?void 0:s.update_password)||void 0===r?void 0:r.button_label}))]})),u&&(0,o.jsx)(ex,Object.assign({appearance:a},{children:u})),d&&(0,o.jsx)(ex,Object.assign({color:"danger",appearance:a},{children:d}))]}))}))}let eq=(0,es.createContext)({user:null,session:null}),eK=e=>{var t;let{supabaseClient:i}=e,[r,n]=(0,es.useState)(null),[s,a]=(0,es.useState)(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null);return(0,es.useEffect)(()=>{ec(void 0,void 0,void 0,function*(){var e,t;let{data:r}=yield i.auth.getSession();n(r.session),a(null!==(t=null===(e=r.session)||void 0===e?void 0:e.user)&&void 0!==t?t:null)});let{data:e}=i.auth.onAuthStateChange((e,t)=>ec(void 0,void 0,void 0,function*(){var e;n(t),a(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null)}));return()=>{null==e||e.subscription.unsubscribe()}},[]),(0,o.jsx)(eq.Provider,Object.assign({value:{session:r,user:s}},e))},eY=()=>{let e=(0,es.useContext)(eq);if(void 0===e)throw Error("useUser must be used within a UserContextProvider.");return e};var eZ={sign_up:{email_label:"E-Mail Adresse",password_label:"Passwort erstellen",email_input_placeholder:"Ihre E-Mail Adresse",password_input_placeholder:"Ihr Passwort",button_label:"Registrieren",social_provider_text:"Anmelden mit",link_text:"Haben Sie noch kein Konto? Registrieren"},sign_in:{email_label:"E-Mail Adresse",password_label:"Passwort erstellen",email_input_placeholder:"Ihre E-Mail Adresse",password_input_placeholder:"Ihr Passwort",button_label:"Anmelden",social_provider_text:"Anmelden mit",link_text:"Haben Sie bereits ein Konto? Anmelden"},magic_link:{email_input_label:"E-Mail Adresse",email_input_placeholder:"Ihre E-Mail Adresse",button_label:"Magischen Link senden",link_text:"Einen magischen Link per E-Mail versenden"},forgotten_password:{email_label:"E-Mail Adresse",password_label:"Ihr Passwort",email_input_placeholder:"Ihre E-Mail Adresse",button_label:"Anweisungen zum Zur\xfccksetzen des Passworts senden",link_text:"Passwort vergessen?"},update_password:{password_label:"Neues Passwort",password_input_placeholder:"Ihr neues Passwort",button_label:"Passwort aktualisieren"}},eX={sign_up:{email_label:"E-Mail Adresse",password_label:"Passwort erstellen",email_input_placeholder:"Deine E-Mail Adresse",password_input_placeholder:"Dein Passwort",button_label:"Registrieren",social_provider_text:"Anmelden mit",link_text:"Hast du noch kein Konto? Registrieren"},sign_in:{email_label:"E-Mail Adresse",password_label:"Passwort erstellen",email_input_placeholder:"Deine E-Mail Adresse",password_input_placeholder:"Dein Passwort",button_label:"Anmelden",social_provider_text:"Anmelden mit",link_text:"Hast du bereits ein Konto? Anmelden"},magic_link:{email_input_label:"E-Mail Adresse",email_input_placeholder:"Deine E-Mail Adresse",button_label:"Magischen Link senden",link_text:"Einen magischen Link per E-Mail versenden"},forgotten_password:{email_label:"E-Mail Adresse",password_label:"Dein Passwort",email_input_placeholder:"Deine E-Mail Adresse",button_label:"Anweisungen zum Zur\xfccksetzen des Passworts senden",link_text:"Passwort vergessen?"},update_password:{password_label:"Neues Passwort",password_input_placeholder:"Dein neues Passwort",button_label:"Passwort aktualisieren"}},eQ={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with",link_text:"Don't have an account? Sign up"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",link_text:"Send a magic link email"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",link_text:"Forgot your password?"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password"}},e0={sign_up:{email_label:"",password_label:"",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"",social_provider_text:"",link_text:""},sign_in:{email_label:"",password_label:"",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"",social_provider_text:"",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",link_text:"Send a magic link email"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",link_text:""},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password"}};let e1=Object.assign({},n),{getCssText:e2}=ee();function e3(e){var t,i;let{supabaseClient:r,socialLayout:n="vertical",providers:s,view:a="sign_in",redirectTo:l,onlyThirdPartyProviders:c=!1,magicLink:d=!1,showLinks:h=!0,appearance:u,theme:p="default",localization:f={lang:"en"}}=e,g=en(e1[null!==(t=f.lang)&&void 0!==t?t:"en"],null!==(i=f.variables)&&void 0!==i?i:{}),[v,m]=(0,es.useState)(a),[b,y]=(0,es.useState)(""),[_,w]=(0,es.useState)(""),[x,j]=(0,es.useState)({}),S="sign_in"===v||"sign_up"===v;(0,es.useEffect)(()=>{var e,t,i,r;ee({theme:en(null!==(t=null===(e=null==u?void 0:u.theme)||void 0===e?void 0:e.default)&&void 0!==t?t:{},null!==(r=null===(i=null==u?void 0:u.variables)||void 0===i?void 0:i.default)&&void 0!==r?r:{})});let n={},s=(null==u?void 0:u.theme)&&Object.keys(null==u?void 0:u.theme);s&&u.theme&&Object.values(u.theme).map((e,t)=>{var i,r;let o=s[t];if("default"===o)return{};let a=en(null!==(i=u&&u.theme&&u.theme[o])&&void 0!==i?i:{},null!==(r=u&&u.variables&&u.variables[o])&&void 0!==r?r:{});n[s[t]]=a}),j(n)},[]);let k=e=>{var t,i;let{children:a}=e;return(0,o.jsxs)("div",Object.assign({className:"default"!==p?ei(en(null==u?void 0:u.theme[p],null!==(i=null===(t=null==u?void 0:u.variables)||void 0===t?void 0:t[p])&&void 0!==i?i:{})):""},{children:[S&&(0,o.jsx)(eH,{appearance:u,supabaseClient:r,providers:s,socialLayout:n,redirectTo:l,onlyThirdPartyProviders:c,i18n:g,view:v}),!c&&a]}))};switch((0,es.useEffect)(()=>{m(a)},[a]),v){case eo.SIGN_IN:return(0,o.jsx)(k,{children:(0,o.jsx)(eG,Object.assign({},{supabaseClient:r,setAuthView:m,defaultEmail:b,defaultPassword:_,setDefaultEmail:y,setDefaultPassword:w,redirectTo:l,magicLink:d,showLinks:h,i18n:g,appearance:u},{authView:"sign_in"}))});case eo.SIGN_UP:return(0,o.jsx)(k,{children:(0,o.jsx)(eG,{appearance:u,supabaseClient:r,authView:"sign_up",setAuthView:m,defaultEmail:b,defaultPassword:_,setDefaultEmail:y,setDefaultPassword:w,redirectTo:l,magicLink:d,showLinks:h,i18n:g})});case eo.FORGOTTEN_PASSWORD:return(0,o.jsx)(k,{children:(0,o.jsx)(eV,{appearance:u,supabaseClient:r,setAuthView:m,redirectTo:l,showLinks:h,i18n:g})});case eo.MAGIC_LINK:return(0,o.jsx)(k,{children:(0,o.jsx)(ej,{appearance:u,supabaseClient:r,setAuthView:m,redirectTo:l,showLinks:h,i18n:g})});case eo.UPDATE_PASSWORD:return(0,o.jsx)(k,{children:(0,o.jsx)(eJ,{appearance:u,supabaseClient:r,i18n:g})});default:return null}}e3.ForgottenPassword=eV,e3.UpdatePassword=eJ,e3.MagicLink=ej,e3.UserContextProvider=eK,e3.useUser=eY},9802:function(e,t,i){"use strict";i.d(t,{eI:function(){return tl}});let r=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>{var t,r,n,s;return t=void 0,r=void 0,n=void 0,s=function*(){return yield(yield Promise.resolve().then(i.t.bind(i,4098,23))).fetch(...e)},new(n||(n=Promise))(function(e,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof n?i:new n(function(e){e(i)})).then(o,a)}l((s=s.apply(t,r||[])).next())})}:fetch),(...e)=>t(...e)};class n extends Error{constructor(e,t="FunctionsError",i){super(e),super.name=t,this.context=i}}class s extends n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o extends n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a extends n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}class l{constructor(e,{headers:t={},customFetch:i}={}){this.url=e,this.headers=t,this.fetch=r(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i,r,n,l,c;return r=this,n=void 0,l=void 0,c=function*(){try{let r,n;let{headers:l,body:c}=t,d={};c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&("undefined"!=typeof Blob&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",r=c):"string"==typeof c?(d["Content-Type"]="text/plain",r=c):"undefined"!=typeof FormData&&c instanceof FormData?r=c:(d["Content-Type"]="application/json",r=JSON.stringify(c)));let h=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),l),body:r}).catch(e=>{throw new s(e)}),u=h.headers.get("x-relay-error");if(u&&"true"===u)throw new o(h);if(!h.ok)throw new a(h);let p=(null!==(i=h.headers.get("Content-Type"))&&void 0!==i?i:"text/plain").split(";")[0].trim();return n="application/json"===p?yield h.json():"application/octet-stream"===p?yield h.blob():"multipart/form-data"===p?yield h.formData():yield h.text(),{data:n,error:null}}catch(e){return{data:null,error:e}}},new(l||(l=Promise))(function(e,t){function i(e){try{o(c.next(e))}catch(e){t(e)}}function s(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):((r=t.value)instanceof l?r:new l(function(e){e(r)})).then(i,s)}o((c=c.apply(r,n||[])).next())})}}var c,d,h,u,p,f,g,v,m,b,y,_,w,x,j,S,k,O,C,T=i(4098),E=i.n(T);class P{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=E():this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let i=this.fetch,r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,i,r;let n=null,s=null,o=null,a=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){let t=await e.text();""===t||(s="text/csv"===this.headers.Accept?t:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}let r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),n=null===(i=e.headers.get("content-range"))||void 0===i?void 0:i.split("/");r&&n&&n.length>1&&(o=parseInt(n[1]))}else{let t=await e.text();try{n=JSON.parse(t),Array.isArray(n)&&404===e.status&&(s=[],n=null,a=200,l="OK")}catch(i){404===e.status&&""===t?(a=204,l="No Content"):n={message:t}}if(n&&this.allowEmpty&&(null===(r=null==n?void 0:n.details)||void 0===r?void 0:r.includes("Results contain 0 rows"))&&(n=null,a=200,l="OK"),n&&this.shouldThrowOnError)throw n}let c={error:n,data:s,count:o,status:a,statusText:l};return c});return this.shouldThrowOnError||(r=r.catch(e=>({error:{message:`FetchError: ${e.message}`,details:"",hint:"",code:e.code||""},data:null,count:null,status:0,statusText:""}))),r.then(e,t)}}class $ extends P{select(e){let t=!1,i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:r}={}){let n=r?`${r}.order`:"order",s=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===i?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){let i=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:i}={}){let r=void 0===i?"offset":`${i}.offset`,n=void 0===i?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(n,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:n=!1,format:s="text"}={}){let o=[e?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,n?"wal":null].filter(Boolean).join("|"),a=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${a}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class R extends ${eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let i=t.map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:r}={}){let n="";"plain"===r?n="pl":"phrase"===r?n="ph":"websearch"===r&&(n="w");let s=void 0===i?"":`(${i})`;return this.url.searchParams.append(e,`${n}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t}={}){let i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}}class A{constructor(e,{headers:t={},schema:i,fetch:r}){this.url=e,this.headers=t,this.schema=i,this.fetch=r}select(e,{head:t=!1,count:i}={}){let r=!1,n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!r?"":('"'===e&&(r=!r),e)).join("");return this.url.searchParams.set("select",n),i&&(this.headers.Prefer=`count=${i}`),new R({method:t?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t}={}){let i=[];if(t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new R({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:r}={}){let n=[`resolution=${i?"ignore":"merge"}-duplicates`];return void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&n.push(`count=${r}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new R({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new R({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new R({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}let I={"X-Client-Info":"postgrest-js/1.4.0"};class B{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},I),t),this.schema=i,this.fetch=r}from(e){let t=new URL(`${this.url}/${e}`);return new A(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:i=!1,count:r}={}){let n,s;let o=new URL(`${this.url}/rpc/${e}`);i?(n="HEAD",Object.entries(t).forEach(([e,t])=>{o.searchParams.append(e,`${t}`)})):(n="POST",s=t);let a=Object.assign({},this.headers);return r&&(a.Prefer=`count=${r}`),new R({method:n,url:o,headers:a,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}}var L=i(5840);let N={"X-Client-Info":"realtime-js/2.6.0"};(y=c||(c={}))[y.connecting=0]="connecting",y[y.open=1]="open",y[y.closing=2]="closing",y[y.closed=3]="closed",(_=d||(d={})).closed="closed",_.errored="errored",_.joined="joined",_.joining="joining",_.leaving="leaving",(w=h||(h={})).close="phx_close",w.error="phx_error",w.join="phx_join",w.reply="phx_reply",w.leave="phx_leave",w.access_token="access_token",(u||(u={})).websocket="websocket",(x=p||(p={})).Connecting="connecting",x.Open="open",x.Closing="closing",x.Closed="closed";class M{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class D{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){let r=t.getUint8(1),n=t.getUint8(2),s=this.HEADER_LENGTH+2,o=i.decode(e.slice(s,s+r));s+=r;let a=i.decode(e.slice(s,s+n));s+=n;let l=JSON.parse(i.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:a,payload:l}}}class z{constructor(e,t,i={},r=1e4){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0;let e=this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()});"rate limited"===e&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t(null===(i=this.receivedResp)||void 0===i?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(j=f||(f={})).SYNC="sync",j.JOIN="join",j.LEAVE="leave";class U{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let i=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},e=>{let{onJoin:t,onLeave:i,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=U.syncState(this.state,e,t,i),this.pendingDiffs.forEach(e=>{this.state=U.syncDiff(this.state,e,t,i)}),this.pendingDiffs=[],r()}),this.channel._on(i.diff,{},e=>{let{onJoin:t,onLeave:i,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=U.syncDiff(this.state,e,t,i),r())}),this.onJoin((e,t,i)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:i})}),this.onLeave((e,t,i)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){let n=this.cloneDeep(e),s=this.transformState(t),o={},a={};return this.map(n,(e,t)=>{s[e]||(a[e]=t)}),this.map(s,(e,t)=>{let i=n[e];if(i){let r=t.map(e=>e.presence_ref),n=i.map(e=>e.presence_ref),s=t.filter(e=>0>n.indexOf(e.presence_ref)),l=i.filter(e=>0>r.indexOf(e.presence_ref));s.length>0&&(o[e]=s),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(n,{joins:o,leaves:a},i,r)}static syncDiff(e,t,i,r){let{joins:n,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(n,(t,r)=>{var n;let s=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(r),s.length>0){let i=e[t].map(e=>e.presence_ref),r=s.filter(e=>0>i.indexOf(e.presence_ref));e[t].unshift(...r)}i(t,s,r)}),this.map(s,(t,i)=>{let n=e[t];if(!n)return;let s=i.map(e=>e.presence_ref);n=n.filter(e=>0>s.indexOf(e.presence_ref)),e[t]=n,r(t,n,i),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,i)=>{let r=e[i];return"metas"in r?t[i]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(S=g||(g={})).abstime="abstime",S.bool="bool",S.date="date",S.daterange="daterange",S.float4="float4",S.float8="float8",S.int2="int2",S.int4="int4",S.int4range="int4range",S.int8="int8",S.int8range="int8range",S.json="json",S.jsonb="jsonb",S.money="money",S.numeric="numeric",S.oid="oid",S.reltime="reltime",S.text="text",S.time="time",S.timestamp="timestamp",S.timestamptz="timestamptz",S.timetz="timetz",S.tsrange="tsrange",S.tstzrange="tstzrange";let F=(e,t,i={})=>{var r;let n=null!==(r=i.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((i,r)=>(i[r]=H(r,e,t,n),i),{})},H=(e,t,i,r)=>{let n=t.find(t=>t.name===e),s=null==n?void 0:n.type,o=i[e];return s&&!r.includes(s)?W(s,o):G(o)},W=(e,t)=>{if("_"===e.charAt(0)){let i=e.slice(1,e.length);return K(t,i)}switch(e){case g.bool:return V(t);case g.float4:case g.float8:case g.int2:case g.int4:case g.int8:case g.numeric:case g.oid:return J(t);case g.json:case g.jsonb:return q(t);case g.timestamp:return Y(t);case g.abstime:case g.date:case g.daterange:case g.int4range:case g.int8range:case g.money:case g.reltime:case g.text:case g.time:case g.timestamptz:case g.timetz:case g.tsrange:case g.tstzrange:default:return G(t)}},G=e=>e,V=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},J=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},q=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},K=(e,t)=>{if("string"!=typeof e)return e;let i=e.length-1,r=e[i],n=e[0];if("{"===n&&"}"===r){let r;let n=e.slice(1,i);try{r=JSON.parse("["+n+"]")}catch(e){r=n?n.split(","):[]}return r.map(e=>W(t,e))}return e},Y=e=>"string"==typeof e?e.replace(" ","T"):e;var Z=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};(k=v||(v={})).ALL="*",k.INSERT="INSERT",k.UPDATE="UPDATE",k.DELETE="DELETE",(O=m||(m={})).BROADCAST="broadcast",O.PRESENCE="presence",O.POSTGRES_CHANGES="postgres_changes",(C=b||(b={})).SUBSCRIBED="SUBSCRIBED",C.TIMED_OUT="TIMED_OUT",C.CLOSED="CLOSED",C.CHANNEL_ERROR="CHANNEL_ERROR";class X{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=d.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new z(this,h.join,this.params,this.timeout),this.rejoinTimer=new M(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=d.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=d.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=d.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=d.errored,this.rejoinTimer.scheduleTimeout())}),this._on(h.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new U(this)}subscribe(e,t=this.timeout){var i,r;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:n,presence:s}}=this.params;this._onError(t=>e&&e("CHANNEL_ERROR",t)),this._onClose(()=>e&&e("CLOSED"));let o={},a={broadcast:n,presence:s,postgres_changes:null!==(r=null===(i=this.bindings.postgres_changes)||void 0===i?void 0:i.map(e=>e.filter))&&void 0!==r?r:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:t})=>{var i;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0===t){e&&e("SUBSCRIBED");return}{let r=this.bindings.postgres_changes,n=null!==(i=null==r?void 0:r.length)&&void 0!==i?i:0,s=[];for(let i=0;i<n;i++){let n=r[i],{filter:{event:o,schema:a,table:l,filter:c}}=n,d=t&&t[i];if(d&&d.event===o&&d.schema===a&&d.table===l&&d.filter===c)s.push(Object.assign(Object.assign({},n),{id:d.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,e&&e("SUBSCRIBED");return}}).receive("error",t=>{e&&e("CHANNEL_ERROR",Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return Z(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return Z(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,i){return this._on(e,t,i)}send(e,t={}){return new Promise(i=>{var r,n,s;let o=this._push(e.type,e,t.timeout||this.timeout);o.rateLimited&&i("rate limited"),"broadcast"!==e.type||(null===(s=null===(n=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===n?void 0:n.broadcast)||void 0===s?void 0:s.ack)||i("ok"),o.receive("ok",()=>i("ok")),o.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=d.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(h.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{let r=new z(this,h.leave,{},e);r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new z(this,e,t,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,n;let s=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:c}=h;if(i&&[o,a,l,c].indexOf(s)>=0&&i!==this._joinRef())return;let d=this._onMessage(s,t,i);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,i,r;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(r=null===(i=e.filter)||void 0===i?void 0:i.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(d,i)):null===(n=this.bindings[s])||void 0===n||n.filter(e=>{var i,r,n,o,a,l;if(!["broadcast","presence","postgres_changes"].includes(s))return e.type.toLocaleLowerCase()===s;if("id"in e){let s=e.id,o=null===(i=e.filter)||void 0===i?void 0:i.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{let i=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===i||i===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof d&&"ids"in d){let e=d.data,{schema:t,table:i,commit_timestamp:r,type:n,errors:s}=e;d=Object.assign(Object.assign({},{schema:t,table:i,commit_timestamp:r,eventType:n,new:{},old:{},errors:s}),this._getPayloadRecords(e))}e.callback(d,i)})}_isClosed(){return this.state===d.closed}_isJoined(){return this.state===d.joined}_isJoining(){return this.state===d.joining}_isLeaving(){return this.state===d.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){let r=e.toLocaleLowerCase(),n={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(n):this.bindings[r]=[n],this}_off(e,t){let i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===i&&X.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(h.close,{},e)}_onError(e){this._on(h.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=d.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=F(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=F(e.columns,e.old_record)),t}}let Q=()=>{};class ee{constructor(e,t){var i;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=N,this.params={},this.timeout=1e4,this.transport=L.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Q,this.conn=null,this.sendBuffer=[],this.serializer=new D,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${u.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let r=null===(i=null==t?void 0:t.params)||void 0===i?void 0:i.eventsPerSecond;r&&(this.eventsPerSecondLimitMs=Math.floor(1e3/r)),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new M(()=>{var e,t,i,r;return e=this,t=void 0,r=function*(){this.disconnect(),this.connect()},new(i=void 0,i=Promise)(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})},this.reconnectAfterMs)}connect(){!this.conn&&(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return e.unsubscribe().then(e=>(0===this.channels.length&&this.disconnect(),e))}removeAllChannels(){return Promise.all(this.channels.map(e=>e.unsubscribe())).then(e=>(this.disconnect(),e))}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case c.connecting:return p.Connecting;case c.open:return p.Open;case c.closing:return p.Closing;default:return p.Closed}}isConnected(){return this.connectionState()===p.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();let i=new X(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){let{topic:t,event:i,payload:r,ref:n}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};if(this.log("push",`${t} ${i} (${n})`,r),this.isConnected()){if(["broadcast","presence","postgres_changes"].includes(i)){let e=this._throttle(s)();if(e)return"rate limited"}else s()}else this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(h.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:i,payload:r,ref:n}=e;(n&&n===this.pendingHeartbeatRef||i===(null==r?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${i} ${n&&"("+n+")"||""}`,r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(i,r,n)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(h.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class et extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ei(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class er extends et{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class en extends et{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var es=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};let eo=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>es(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(i.t.bind(i,4098,23))).fetch(...e)}):fetch),(...e)=>t(...e)},ea=()=>es(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(i.t.bind(i,4098,23))).Response:Response});var el=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};let ec=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ed=(e,t)=>el(void 0,void 0,void 0,function*(){let i=yield ea();e instanceof i?e.json().then(i=>{t(new er(ec(i),e.status||500))}):t(new en(ec(e),e))}),eh=(e,t,i,r)=>{let n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),i))};function eu(e,t,i,r,n,s){return el(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(i,eh(t,r,n,s)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>ed(e,a))})})}function ep(e,t,i,r){return el(this,void 0,void 0,function*(){return eu(e,"GET",t,i,r)})}function ef(e,t,i,r,n){return el(this,void 0,void 0,function*(){return eu(e,"POST",t,r,n,i)})}function eg(e,t,i,r,n){return el(this,void 0,void 0,function*(){return eu(e,"DELETE",t,r,n,i)})}var ev=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};let em={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ey{constructor(e,t={},i,r){this.url=e,this.headers=t,this.bucketId=i,this.fetch=eo(r)}uploadOrUpdate(e,t,i,r){return ev(this,void 0,void 0,function*(){try{let n;let s=Object.assign(Object.assign({},eb),r),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&i instanceof Blob?((n=new FormData).append("cacheControl",s.cacheControl),n.append("",i)):"undefined"!=typeof FormData&&i instanceof FormData?(n=i).append("cacheControl",s.cacheControl):(n=i,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);let a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=yield this.fetch(`${this.url}/object/${l}`,{method:e,body:n,headers:o});if(c.ok)return{data:{path:a},error:null};{let e=yield c.json();return{data:null,error:e}}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}upload(e,t,i){return ev(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}update(e,t,i){return ev(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t){return ev(this,void 0,void 0,function*(){try{let i=yield ef(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});return{data:i,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}copy(e,t){return ev(this,void 0,void 0,function*(){try{let i=yield ef(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});return{data:{path:i.Key},error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,i){return ev(this,void 0,void 0,function*(){try{let r=yield ef(this.fetch,`${this.url}/object/sign/${this._getFinalPath(e)}`,Object.assign({expiresIn:t},(null==i?void 0:i.transform)?{transform:i.transform}:{}),{headers:this.headers}),n=(null==i?void 0:i.download)?`&download=${!0===i.download?"":i.download}`:"",s=encodeURI(`${this.url}${r.signedURL}${n}`);return r={signedUrl:s},{data:r,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,i){return ev(this,void 0,void 0,function*(){try{let r=yield ef(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=(null==i?void 0:i.download)?`&download=${!0===i.download?"":i.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${n}`):null})),error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}download(e,t){return ev(this,void 0,void 0,function*(){let i=void 0!==(null==t?void 0:t.transform),r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),n=r?`?${r}`:"";try{let t=this._getFinalPath(e),r=yield ep(this.fetch,`${this.url}/${i?"render/image/authenticated":"object"}/${t}${n}`,{headers:this.headers,noResolveJson:!0}),s=yield r.blob();return{data:s,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}getPublicUrl(e,t){let i=this._getFinalPath(e),r=[],n=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==n&&r.push(n);let s=void 0!==(null==t?void 0:t.transform),o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s?"render/image":"object"}/public/${i}${a}`)}}}remove(e){return ev(this,void 0,void 0,function*(){try{let t=yield eg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers});return{data:t,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}list(e,t,i){return ev(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},em),t),{prefix:e||""}),n=yield ef(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i);return{data:n,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let e_={"X-Client-Info":"storage-js/2.3.0"};var ew=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};class ex{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},e_),t),this.fetch=eo(i)}listBuckets(){return ew(this,void 0,void 0,function*(){try{let e=yield ep(this.fetch,`${this.url}/bucket`,{headers:this.headers});return{data:e,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}getBucket(e){return ew(this,void 0,void 0,function*(){try{let t=yield ep(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return ew(this,void 0,void 0,function*(){try{let i=yield ef(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers});return{data:i,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return ew(this,void 0,void 0,function*(){try{let i=yield function(e,t,i,r,n){return el(this,void 0,void 0,function*(){return eu(e,"PUT",t,r,void 0,i)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers});return{data:i,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}emptyBucket(e){return ew(this,void 0,void 0,function*(){try{let t=yield ef(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}deleteBucket(e){return ew(this,void 0,void 0,function*(){try{let t=yield eg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}}class ej extends ex{constructor(e,t={},i){super(e,t,i)}from(e){return new ey(this.url,this.headers,e,this.fetch)}}let eS=e=>{let t;return t=e||("undefined"==typeof fetch?E():fetch),(...e)=>t(...e)},ek=()=>"undefined"==typeof Headers?T.Headers:Headers,eO=(e,t,i)=>{let r=eS(i),n=ek();return(i,s)=>{var o,a,l,c;return o=void 0,a=void 0,l=void 0,c=function*(){var o;let a=null!==(o=yield t())&&void 0!==o?o:e,l=new n(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},s),{headers:l}))},new(l||(l=Promise))(function(e,t){function i(e){try{n(c.next(e))}catch(e){t(e)}}function r(e){try{n(c.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):((n=t.value)instanceof l?n:new l(function(e){e(n)})).then(i,r)}n((c=c.apply(o,a||[])).next())})}};var eC=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};let eT=()=>"undefined"!=typeof document,eE={tested:!1,writable:!1},eP=()=>{if(!eT())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(eE.tested)return eE.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eE.tested=!0,eE.writable=!0}catch(e){eE.tested=!0,eE.writable=!1}return eE.writable};function e$(e,t){var i;t||(t=(null===(i=null==window?void 0:window.location)||void 0===i?void 0:i.href)||""),e=e.replace(/[\[\]]/g,"\\$&");let r=RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),n=r.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}let eR=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>eC(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(i.t.bind(i,4098,23))).fetch(...e)}):fetch),(...e)=>t(...e)},eA=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,eI=(e,t,i)=>eC(void 0,void 0,void 0,function*(){yield e.setItem(t,JSON.stringify(i))}),eB=(e,t)=>eC(void 0,void 0,void 0,function*(){let i=yield e.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch(e){return i}}),eL=(e,t)=>eC(void 0,void 0,void 0,function*(){yield e.removeItem(t)});class eN{constructor(){this.promise=new eN.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function eM(e){let t=e.split(".");if(3!==t.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw Error("JWT is not valid: payload is not in base64url format");let i=t[1];return JSON.parse(function(e){let t,i,r,n,s,o,a;let l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)n=l.indexOf(e.charAt(d++)),s=l.indexOf(e.charAt(d++)),o=l.indexOf(e.charAt(d++)),a=l.indexOf(e.charAt(d++)),t=n<<2|s>>4,i=(15&s)<<4|o>>2,r=(3&o)<<6|a,c+=String.fromCharCode(t),64!=o&&0!=i&&(c+=String.fromCharCode(i)),64!=a&&0!=r&&(c+=String.fromCharCode(r));return c}(i))}eN.promiseConstructor=Promise;class eD extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function ez(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class eU extends eD{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eF extends eD{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class eH extends eD{constructor(e,t,i){super(e),this.name=t,this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eW extends eH{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class eG extends eH{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class eV extends eH{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eJ extends eH{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var eq=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})},eK=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i};let eY=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eZ=(e,t)=>eq(void 0,void 0,void 0,function*(){eA(e)?[502,503,504].includes(e.status)?t(new eJ(eY(e),e.status)):e.json().then(i=>{t(new eU(eY(i),e.status||500))}).catch(e=>{t(new eF(eY(e),e))}):t(new eJ(eY(e),0))}),eX=(e,t,i,r)=>{let n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),i))};function eQ(e,t,i,r){var n;return eq(this,void 0,void 0,function*(){let s=Object.assign({},null==r?void 0:r.headers);(null==r?void 0:r.jwt)&&(s.Authorization=`Bearer ${r.jwt}`);let o=null!==(n=null==r?void 0:r.query)&&void 0!==n?n:{};(null==r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield function(e,t,i,r,n,s){return eq(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(i,eX(t,r,n,s)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>eZ(e,a))})})}(e,t,i+a,{headers:s,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function e0(e){var t;let i=null;e.access_token&&e.refresh_token&&e.expires_in&&((i=Object.assign({},e)).expires_at=function(e){let t=Math.round(Date.now()/1e3);return t+e}(e.expires_in));let r=null!==(t=e.user)&&void 0!==t?t:e;return{data:{session:i,user:r},error:null}}function e1(e){var t;let i=null!==(t=e.user)&&void 0!==t?t:e;return{data:{user:i},error:null}}function e2(e){return{data:e,error:null}}function e3(e){let{action_link:t,email_otp:i,hashed_token:r,redirect_to:n,verification_type:s}=e,o=eK(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a=Object.assign({},o);return{data:{properties:{action_link:t,email_otp:i,hashed_token:r,redirect_to:n,verification_type:s},user:a},error:null}}function e4(e){return e}var e9=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})},e5=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i};class e6{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=eR(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return e9(this,void 0,void 0,function*(){try{return yield eQ(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(ez(e))return{data:null,error:e};throw e}})}inviteUserByEmail(e,t={}){return e9(this,void 0,void 0,function*(){try{return yield eQ(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:e1})}catch(e){if(ez(e))return{data:{user:null},error:e};throw e}})}generateLink(e){return e9(this,void 0,void 0,function*(){try{let{options:t}=e,i=e5(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=null==i?void 0:i.newEmail,delete r.newEmail),yield eQ(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:e3,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(ez(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(e){return e9(this,void 0,void 0,function*(){try{return yield eQ(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:e1})}catch(e){if(ez(e))return{data:{user:null},error:e};throw e}})}listUsers(e){var t,i,r,n,s,o,a;return e9(this,void 0,void 0,function*(){try{let l={nextPage:null,lastPage:0,total:0},c=yield eQ(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(i=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==i?i:"",per_page:null!==(n=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==n?n:""},xform:e4});if(c.error)throw c.error;let d=yield c.json(),h=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,u=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return u.length>0&&(u.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),i=JSON.parse(e.split(";")[1].split("=")[1]);l[`${i}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(e){if(ez(e))return{data:{users:[]},error:e};throw e}})}getUserById(e){return e9(this,void 0,void 0,function*(){try{return yield eQ(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:e1})}catch(e){if(ez(e))return{data:{user:null},error:e};throw e}})}updateUserById(e,t){return e9(this,void 0,void 0,function*(){try{return yield eQ(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:e1})}catch(e){if(ez(e))return{data:{user:null},error:e};throw e}})}deleteUser(e,t=!1){return e9(this,void 0,void 0,function*(){try{return yield eQ(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:e1})}catch(e){if(ez(e))return{data:{user:null},error:e};throw e}})}_listFactors(e){return e9(this,void 0,void 0,function*(){try{let{data:t,error:i}=yield eQ(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:i}}catch(e){if(ez(e))return{data:null,error:e};throw e}})}_deleteFactor(e){return e9(this,void 0,void 0,function*(){try{let t=yield eQ(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(ez(e))return{data:null,error:e};throw e}})}}var e8={getItem:e=>eP()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{eP()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{eP()&&globalThis.localStorage.removeItem(e)}},e7=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let te={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.12.0"}};class tt{constructor(e){this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;let t=Object.assign(Object.assign({},te),e);this.inMemorySession=null,this.storageKey=t.storageKey,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.storage=t.storage||e8,this.admin=new e6({url:t.url,headers:t.headers,fetch:t.fetch}),this.url=t.url,this.headers=t.headers,this.fetch=eR(t.fetch),this.detectSessionInUrl=t.detectSessionInUrl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},eT()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey&&(this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey),this.broadcastChannel.addEventListener("message",e=>{this._notifyAllSubscribers(e.data.event,e.data.session,!1)})),this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return e7(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:e,error:t}=yield this._getSessionFromUrl();if(t)return yield this._removeSession(),{error:t};let{session:i,redirectType:r}=e;return yield this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN",i),"recovery"===r&&this._notifyAllSubscribers("PASSWORD_RECOVERY",i),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){if(ez(e))return{error:e};return{error:new eF("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange()}})}signUp(e){var t,i;return e7(this,void 0,void 0,function*(){try{let r;if(yield this._removeSession(),"email"in e){let{email:i,password:n,options:s}=e;r=yield eQ(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:i,password:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:e0})}else if("phone"in e){let{phone:t,password:n,options:s}=e;r=yield eQ(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(i=null==s?void 0:s.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:e0})}else throw new eG("You must provide either an email or phone number and a password");let{data:n,error:s}=r;if(s||!n)return{data:{user:null,session:null},error:s};let o=n.session,a=n.user;return n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(e){if(ez(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithPassword(e){var t,i;return e7(this,void 0,void 0,function*(){try{let r;if(yield this._removeSession(),"email"in e){let{email:i,password:n,options:s}=e;r=yield eQ(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:e0})}else if("phone"in e){let{phone:t,password:n,options:s}=e;r=yield eQ(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:t,password:n,data:null!==(i=null==s?void 0:s.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:e0})}else throw new eG("You must provide either an email or phone number and a password");let{data:n,error:s}=r;if(s||!n)return{data:{user:null,session:null},error:s};return n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:s}}catch(e){if(ez(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOAuth(e){var t,i,r,n;return e7(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(i=e.options)||void 0===i?void 0:i.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})})}signInWithIdToken(e){return e7(this,void 0,void 0,function*(){yield this._removeSession();try{let{options:t,provider:i,token:r,nonce:n}=e,s=yield eQ(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:e0}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a}}catch(e){if(ez(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOtp(e){var t,i,r,n;return e7(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){let{email:r,options:n}=e,{error:s}=yield eQ(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(i=null==n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){let{phone:t,options:i}=e,{error:s}=yield eQ(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{},create_user:null===(n=null==i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null},error:s}}throw new eG("You must provide either an email or phone number.")}catch(e){if(ez(e))return{data:{user:null,session:null},error:e};throw e}})}verifyOtp(e){var t,i;return e7(this,void 0,void 0,function*(){try{yield this._removeSession();let{data:r,error:n}=yield eQ(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:null===(t=e.options)||void 0===t?void 0:t.captchaToken}}),redirectTo:null===(i=e.options)||void 0===i?void 0:i.redirectTo,xform:e0});if(n)throw n;if(!r)throw"An error occurred on token verification.";let s=r.session,o=r.user;return(null==s?void 0:s.access_token)&&(yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:o,session:s},error:null}}catch(e){if(ez(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithSSO(e){var t,i,r;return e7(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield eQ(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(i=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==i?i:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:e2})}catch(e){if(ez(e))return{data:null,error:e};throw e}})}getSession(){return e7(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){let t=yield eB(this.storage,this.storageKey);null!==t&&(this._isValidSession(t)?e=t:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};let t=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(!t)return{data:{session:e},error:null};let{session:i,error:r}=yield this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}})}getUser(e){var t,i;return e7(this,void 0,void 0,function*(){try{if(!e){let{data:r,error:n}=yield this.getSession();if(n)throw n;e=null!==(i=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==i?i:void 0}return yield eQ(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:e1})}catch(e){if(ez(e))return{data:{user:null},error:e};throw e}})}updateUser(e,t={}){return e7(this,void 0,void 0,function*(){try{let{data:i,error:r}=yield this.getSession();if(r)throw r;if(!i.session)throw new eW;let n=i.session,{data:s,error:o}=yield eQ(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:e,jwt:n.access_token,xform:e1});if(o)throw o;return n.user=s.user,yield this._saveSession(n),this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}}catch(e){if(ez(e))return{data:{user:null},error:e};throw e}})}_decodeJWT(e){return eM(e)}setSession(e){return e7(this,void 0,void 0,function*(){try{if(!e.access_token||!e.refresh_token)throw new eW;let t=Date.now()/1e3,i=t,r=!0,n=null,s=eM(e.access_token);if(s.exp&&(r=(i=s.exp)<=t),r){let{session:t,error:i}=yield this._callRefreshToken(e.refresh_token);if(i)return{data:{user:null,session:null},error:i};if(!t)return{data:{user:null,session:null},error:null};n=t}else{let{data:r,error:s}=yield this.getUser(e.access_token);if(s)throw s;yield this._saveSession(n={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:i-t,expires_at:i}),this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(e){if(ez(e))return{data:{session:null,user:null},error:e};throw e}})}refreshSession(e){var t;return e7(this,void 0,void 0,function*(){try{if(!e){let{data:i,error:r}=yield this.getSession();if(r)throw r;e=null!==(t=i.session)&&void 0!==t?t:void 0}if(!(null==e?void 0:e.refresh_token))throw new eW;let{session:i,error:r}=yield this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!i)return{data:{user:null,session:null},error:null};return{data:{user:i.user,session:i},error:null}}catch(e){if(ez(e))return{data:{user:null,session:null},error:e};throw e}})}_getSessionFromUrl(){return e7(this,void 0,void 0,function*(){try{if(!eT())throw new eV("No browser detected.");if(!this._isImplicitGrantFlow())throw new eV("Not a valid implicit grant flow url.");let e=e$("error_description");if(e){let t=e$("error_code");if(!t)throw new eV("No error_code detected.");let i=e$("error");if(!i)throw new eV("No error detected.");throw new eV(e,{error:i,code:t})}let t=e$("provider_token"),i=e$("provider_refresh_token"),r=e$("access_token");if(!r)throw new eV("No access_token detected.");let n=e$("expires_in");if(!n)throw new eV("No expires_in detected.");let s=e$("refresh_token");if(!s)throw new eV("No refresh_token detected.");let o=e$("token_type");if(!o)throw new eV("No token_type detected.");let a=Math.round(Date.now()/1e3),l=a+parseInt(n),{data:c,error:d}=yield this.getUser(r);if(d)throw d;let h=c.user,u={provider_token:t,provider_refresh_token:i,access_token:r,expires_in:parseInt(n),expires_at:l,refresh_token:s,token_type:o,user:h},p=e$("type");return window.location.hash="",{data:{session:u,redirectType:p},error:null}}catch(e){if(ez(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return eT()&&(Boolean(e$("access_token"))||Boolean(e$("error_description")))}signOut(){var e;return e7(this,void 0,void 0,function*(){let{data:t,error:i}=yield this.getSession();if(i)return{error:i};let r=null===(e=t.session)||void 0===e?void 0:e.access_token;if(r){let{error:e}=yield this.admin.signOut(r);if(e&&!(ez(e)&&"AuthApiError"===e.name&&(404===e.status||401===e.status)))return{error:e}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),i={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,i),{data:{subscription:i}}}resetPasswordForEmail(e,t={}){return e7(this,void 0,void 0,function*(){try{return yield eQ(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(ez(e))return{data:null,error:e};throw e}})}_refreshAccessToken(e){return e7(this,void 0,void 0,function*(){try{let t=Date.now();return yield function(e,t){let i=new Promise((i,r)=>{eC(this,void 0,void 0,function*(){for(let n=0;n<1/0;n++)try{let r=yield e(n);if(!t(n,null,r)){i(r);return}}catch(e){if(!t(n,e)){r(e);return}}})});return i}(t=>e7(this,void 0,void 0,function*(){var i;return yield(i=200*t,new Promise(e=>{setTimeout(()=>e(null),i)})),yield eQ(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:e0})}),(e,i,r)=>r&&r.error&&r.error instanceof eJ&&Date.now()+(e+1)*200-t<1e4)}catch(e){if(ez(e))return{data:{session:null,user:null},error:e};throw e}})}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t={}){let i=this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return eT()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}_recoverAndRefresh(){var e;return e7(this,void 0,void 0,function*(){try{let t=yield eB(this.storage,this.storageKey);if(!this._isValidSession(t)){null!==t&&(yield this._removeSession());return}let i=Math.round(Date.now()/1e3);if((null!==(e=t.expires_at)&&void 0!==e?e:1/0)<i+10){if(this.autoRefreshToken&&t.refresh_token){let{error:e}=yield this._callRefreshToken(t.refresh_token);e&&(console.log(e.message),yield this._removeSession())}else yield this._removeSession()}else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(e){console.error(e);return}})}_callRefreshToken(e){var t,i;return e7(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new eN,!e)throw new eW;let{data:t,error:i}=yield this._refreshAccessToken(e);if(i)throw i;if(!t.session)throw new eW;yield this._saveSession(t.session),this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(ez(e)){let i={session:null,error:e};return null===(t=this.refreshingDeferred)||void 0===t||t.resolve(i),i}throw null===(i=this.refreshingDeferred)||void 0===i||i.reject(e),e}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t,i=!0){this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t}),this.stateChangeEmitters.forEach(i=>i.callback(e,t))}_saveSession(e){return e7(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return eI(this.storage,this.storageKey,e)}_removeSession(){return e7(this,void 0,void 0,function*(){this.persistSession?yield eL(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&eT()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}_startAutoRefresh(){return e7(this,void 0,void 0,function*(){yield this._stopAutoRefresh();let e=setInterval(()=>this._autoRefreshTokenTick(),1e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref&&e.unref(),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return e7(this,void 0,void 0,function*(){let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return e7(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return e7(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return e7(this,void 0,void 0,function*(){let e=Date.now();try{let{data:{session:t}}=yield this.getSession();if(!t||!t.refresh_token||!t.expires_at)return;let i=Math.floor((1e3*t.expires_at-e)/1e4);i<3&&(yield this._callRefreshToken(t.refresh_token))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}})}_handleVisibilityChange(){return e7(this,void 0,void 0,function*(){if(!eT()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>e7(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return e7(this,void 0,void 0,function*(){"visible"===document.visibilityState?(e||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t){let i=[`provider=${encodeURIComponent(e)}`];if((null==t?void 0:t.redirectTo)&&i.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&i.push(`scopes=${encodeURIComponent(t.scopes)}`),null==t?void 0:t.queryParams){let e=new URLSearchParams(t.queryParams);i.push(e.toString())}return`${this.url}/authorize?${i.join("&")}`}_unenroll(e){var t;return e7(this,void 0,void 0,function*(){try{let{data:i,error:r}=yield this.getSession();if(r)return{data:null,error:r};return yield eQ(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(t=null==i?void 0:i.session)||void 0===t?void 0:t.access_token})}catch(e){if(ez(e))return{data:null,error:e};throw e}})}_enroll(e){var t,i;return e7(this,void 0,void 0,function*(){try{let{data:r,error:n}=yield this.getSession();if(n)return{data:null,error:n};let{data:s,error:o}=yield eQ(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(t=null==r?void 0:r.session)||void 0===t?void 0:t.access_token});if(o)return{data:null,error:o};return(null===(i=null==s?void 0:s.totp)||void 0===i?void 0:i.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null}}catch(e){if(ez(e))return{data:null,error:e};throw e}})}_verify(e){var t;return e7(this,void 0,void 0,function*(){try{let{data:i,error:r}=yield this.getSession();if(r)return{data:null,error:r};let{data:n,error:s}=yield eQ(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(t=null==i?void 0:i.session)||void 0===t?void 0:t.access_token});if(s)return{data:null,error:s};return yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+n.expires_in},n)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",n),{data:n,error:s}}catch(e){if(ez(e))return{data:null,error:e};throw e}})}_challenge(e){var t;return e7(this,void 0,void 0,function*(){try{let{data:i,error:r}=yield this.getSession();if(r)return{data:null,error:r};return yield eQ(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(t=null==i?void 0:i.session)||void 0===t?void 0:t.access_token})}catch(e){if(ez(e))return{data:null,error:e};throw e}})}_challengeAndVerify(e){return e7(this,void 0,void 0,function*(){let{data:t,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return e7(this,void 0,void 0,function*(){let{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};let i=(null==e?void 0:e.factors)||[],r=i.filter(e=>"totp"===e.factor_type&&"verified"===e.status);return{data:{all:i,totp:r},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return e7(this,void 0,void 0,function*(){let{data:{session:i},error:r}=yield this.getSession();if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let n=this._decodeJWT(i.access_token),s=null;n.aal&&(s=n.aal);let o=s,a=null!==(t=null===(e=i.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[];a.length>0&&(o="aal2");let l=n.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:l},error:null}})}}class ti extends tt{constructor(e){super(e)}}let tr={headers:{"X-Client-Info":"supabase-js/2.7.1"}},tn={schema:"public"},ts={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},to={};class ta{constructor(e,t,i){var r,n,s,o,a,l,c,d;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let h=e.replace(/\/$/,"");this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`;let u=h.match(/(supabase\.co)|(supabase\.in)/);if(u){let e=h.split(".");this.functionsUrl=`${e[0]}.functions.${e[1]}.${e[2]}`}else this.functionsUrl=`${h}/functions/v1`;let p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:tn,realtime:to,auth:Object.assign(Object.assign({},ts),{storageKey:p}),global:tr},g=function(e,t){let{db:i,auth:r,realtime:n,global:s}=e,{db:o,auth:a,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),s)}}(null!=i?i:{},f);this.storageKey=null!==(n=null===(r=g.auth)||void 0===r?void 0:r.storageKey)&&void 0!==n?n:"",this.headers=null!==(o=null===(s=g.global)||void 0===s?void 0:s.headers)&&void 0!==o?o:{},this.auth=this._initSupabaseAuthClient(null!==(a=g.auth)&&void 0!==a?a:{},this.headers,null===(l=g.global)||void 0===l?void 0:l.fetch),this.fetch=eO(t,this._getAccessToken.bind(this),null===(c=g.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new B(`${h}/rest/v1`,{headers:this.headers,schema:null===(d=g.db)||void 0===d?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new l(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ej(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},i){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,i,r,n,s;return i=this,r=void 0,n=void 0,s=function*(){let{data:i}=yield this.auth.getSession();return null!==(t=null===(e=i.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new(n||(n=Promise))(function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof n?i:new n(function(e){e(i)})).then(o,a)}l((s=s.apply(i,r||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,storageKey:n},s,o){let a={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ti({url:this.authUrl,headers:Object.assign(Object.assign({},a),s),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,fetch:o})}_initRealtimeClient(e){return new ee(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,null==t?void 0:t.access_token,"CLIENT")})}_handleTokenChanged(e,t,i){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==t?(this.realtime.setAuth(null!=t?t:null),this.changedAccessToken=t):("SIGNED_OUT"===e||"USER_DELETED"===e)&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==i&&this.auth.signOut(),this.changedAccessToken=void 0)}}let tl=(e,t,i)=>new ta(e,t,i)},4098:function(e,t){var i,r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();i=n,function(e){var t={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var i={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(i[Symbol.iterator]=function(){return i}),i}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function h(e){var t=new FileReader,i=d(t);return t.readAsArrayBuffer(e),i}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var i;t.arrayBuffer&&t.blob&&(i=e)&&DataView.prototype.isPrototypeOf(i)?(this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=u(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,i,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,i=d(t=new FileReader),t.readAsText(e),i;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=Array(t.length),r=0;r<t.length;r++)i[r]=String.fromCharCode(t[r]);return i.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=s(e),t=o(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=o(t)},l.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),a(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),a(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var i,r,n=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(r=(i=t.method||this.method||"GET").toUpperCase(),f.indexOf(r)>-1?r:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),r=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(n))}}),t}function m(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},p.call(g.prototype),p.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];m.redirect=function(e,t){if(-1===b.indexOf(t))throw RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.DOMException=i.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function y(i,r){return new Promise(function(n,s){var o=new g(i,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,i={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var i=e.split(":"),r=i.shift().trim();if(r){var n=i.join(":").trim();t.append(r,n)}}),t)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new m(r,i))},a.onerror=function(){s(TypeError("Network request failed"))},a.ontimeout=function(){s(TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}y.polyfill=!0,i.fetch||(i.fetch=y,i.Headers=l,i.Request=g,i.Response=m),e.Headers=l,e.Request=g,e.Response=m,e.fetch=y,Object.defineProperty(e,"__esModule",{value:!0})}({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},284:function(e){var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{if(!__global__)return t();return __global__}finally{delete Object.prototype.__global__}}()},1163:function(e,t,i){e.exports=i(880)},5840:function(e,t,i){if("object"==typeof globalThis)r=globalThis;else try{r=i(284)}catch(e){}finally{if(r||"undefined"==typeof window||(r=window),!r)throw Error("Could not determine global this")}var r,n=r.WebSocket||r.MozWebSocket,s=i(9387);function o(e,t){return t?new n(e,t):new n(e)}n&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(o,e,{get:function(){return n[e]}})}),e.exports={w3cwebsocket:n?o:null,version:s}},9387:function(e,t,i){e.exports=i(9794).version},9794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);